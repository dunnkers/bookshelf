(this.webpackJsonpbookshelf=this.webpackJsonpbookshelf||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(10),o=n.n(a),s=(n(16),n(2)),r=n(3),i=n(5),l=n(4),h=n(11),u=n(7),d=n.n(u),j=(n(17),n(18),n(1)),f=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).state={bounce:!1,load:!1},c}return Object(r.a)(n,[{key:"triggerBounce",value:function(){this.setState({bounce:!0})}},{key:"animationIteration",value:function(){this.props.loading||this.setState({load:!1})}},{key:"animationEnded",value:function(){this.setState({bounce:!1})}},{key:"triggerClick",value:function(){this.props.loading||this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.state.load,n=this.state.bounce;return Object(j.jsxs)("svg",{className:"book-shelf ".concat(t&&"loading"," ").concat(n&&"bounce"),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",viewBox:"14 32 50 20",height:"44",width:"34",onMouseEnter:function(){return e.triggerBounce()},onAnimationEnd:function(){return e.animationEnded()},onAnimationIteration:function(){return e.animationIteration()},onClick:function(){return e.triggerClick()},title:"Update books",children:[Object(j.jsx)("path",{fill:"none",d:"M37.612 92.805L4.487 73.71c-2.75-1.587-4.45-4.52-4.45-7.687L.008 27.877c-.003-3.154 1.676-6.063 4.405-7.634L37.558 1.167c2.73-1.57 6.096-1.566 8.835.013l33.124 19.096c2.75 1.586 4.45 4.518 4.45 7.686l.028 38.146c.002 3.154-1.677 6.063-4.406 7.634L46.445 92.818c-2.73 1.57-6.096 1.566-8.834-.013z"}),Object(j.jsxs)("g",{className:"book-shelf__book book-shelf__book--one",fillRule:"evenodd",children:[Object(j.jsx)("path",{fill:"#5199fc",d:"M31 29h4c1.105 0 2 .895 2 2v29c0 1.105-.895 2-2 2h-4c-1.105 0-2-.895-2-2V31c0-1.105.895-2 2-2z"}),Object(j.jsx)("path",{fill:"#afd7fb",d:"M34 36h-2c-.552 0-1-.448-1-1s.448-1 1-1h2c.552 0 1 .448 1 1s-.448 1-1 1zm-2 1h2c.552 0 1 .448 1 1s-.448 1-1 1h-2c-.552 0-1-.448-1-1s.448-1 1-1z"})]}),Object(j.jsxs)("g",{className:"book-shelf__book book-shelf__book--two",fillRule:"evenodd",children:[Object(j.jsx)("path",{fill:"#ff9868",d:"M39 34h6c1.105 0 2 .895 2 2v24c0 1.105-.895 2-2 2h-6c-1.105 0-2-.895-2-2V36c0-1.105.895-2 2-2z"}),Object(j.jsx)("path",{fill:"#d06061",d:"M42 38c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2z"})]}),Object(j.jsxs)("g",{className:"book-shelf__book book-shelf__book--three",fillRule:"evenodd",children:[Object(j.jsx)("path",{fill:"#ff5068",d:"M49 32h2c1.105 0 2 .86 2 1.92v25.906c0 1.06-.895 1.92-2 1.92h-2c-1.105 0-2-.86-2-1.92V33.92c0-1.06.895-1.92 2-1.92z"}),Object(j.jsx)("path",{fill:"#d93368",d:"M50 35c.552 0 1 .448 1 1v2c0 .552-.448 1-1 1s-1-.448-1-1v-2c0-.552.448-1 1-1z"})]}),Object(j.jsxs)("g",{fillRule:"evenodd",children:[Object(j.jsx)("path",{className:"book-shelf__shelf",fill:"#ae8280",d:"M21 60h40c1.105 0 2 .895 2 2s-.895 2-2 2H21c-1.105 0-2-.895-2-2s.895-2 2-2z"}),Object(j.jsx)("path",{fill:"#855f6d",d:"M51.5 67c-.828 0-1.5-.672-1.5-1.5V64h3v1.5c0 .828-.672 1.5-1.5 1.5zm-21 0c-.828 0-1.5-.672-1.5-1.5V64h3v1.5c0 .828-.672 1.5-1.5 1.5z"})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.loading?{load:!0}:null}}]),n}(c.Component);f.defaultProps={loading:!1,onClick:function(){}};var b=f,O=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.book,t=e.title,n=e.link,c=e.image_url,a=e.authors;return Object(j.jsxs)("div",{className:"book",children:[Object(j.jsx)(h.a,{small:c,large:c,hideDownload:!0,hideZoom:!0}),Object(j.jsx)("div",{className:"title",children:Object(j.jsx)("a",{href:n,children:t})}),Object(j.jsx)("div",{className:"author",children:a.author.name})]})}}]),n}(c.Component),p=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.shelf.books;return e=e.sort((function(e,t){return e.read_at&&t.read_at?function(e,t){return(e<t)-(e>t)}(new Date(e.read_at),new Date(t.read_at)):0})),Object(j.jsx)("div",{className:"shelf",children:e.map((function(e,t){return Object(j.jsx)(O,{book:e.book},t)}))})}}]),n}(c.Component),v=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=Math.floor(3*Math.random())+2,t=Array.from(Array(e).keys());return Object(j.jsxs)("div",{className:"book",children:[Object(j.jsx)(d.a,{width:150,height:240}),Object(j.jsx)("div",{className:"title",children:t.map((function(e,t){return Object(j.jsx)(d.a,{width:Math.floor(50*Math.random())+100},t)}))})]})}}]),n}(c.Component),k=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"shelf",children:[1,2,3,4,5].map((function(e,t){return Object(j.jsx)(v,{},t)}))})}}]),n}(c.Component),m=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).state={shelf:!1},c}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.grab("https://goodreads-shelves.herokuapp.com/")}},{key:"grab",value:function(e){var t=this;fetch(e).then((function(e){return e.json()})).then((function(e){return t.setState({shelf:e})})).catch((function(e){return console.error(e)}))}},{key:"update",value:function(){this.setState({shelf:!1}),this.grab("https://goodreads-shelves.herokuapp.com/force-update")}},{key:"render",value:function(){var e=this,t=(new Date).getFullYear();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("header",{className:"App-header",children:["Dunnkers' Digital Reading Shelf \xa0",Object(j.jsx)("div",{title:"Update book list",children:Object(j.jsx)(b,{loading:!this.state.shelf,onClick:function(){return e.update()}})})]}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h2",{className:"shelf-header",children:"Currently reading"}),this.state.shelf?Object(j.jsx)(p,{shelf:this.state.shelf.current}):Object(j.jsx)(k,{}),Object(j.jsx)("h2",{className:"shelf-header",children:"Read"}),this.state.shelf?Object(j.jsx)(p,{shelf:this.state.shelf.read}):Object(j.jsx)(k,{})]}),Object(j.jsxs)("footer",{children:[Object(j.jsx)("a",{href:"https://dunnkers.com/",children:"dunnkers"})," \u2665 ",t]})]})}}]),n}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(j.jsx)(m,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.a0922e34.chunk.js.map